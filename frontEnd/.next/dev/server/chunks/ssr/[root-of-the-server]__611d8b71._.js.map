{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/nileXrana/Desktop/DEV/Projects/mini-project-assignment1/frontEnd/lib/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001/api';\n\nconst apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests\napiClient.interceptors.request.use((config) => {\n  // Get token from localStorage or cookies\n  const token = typeof window !== 'undefined' \n    ? localStorage.getItem('token') \n    : null;\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authAPI = {\n  signup: (data) => apiClient.post('/auth/signup', data),\n  login: (data) => apiClient.post('/auth/login', data),\n  getMe: () => apiClient.get('/auth/me'),\n};\n\nexport default apiClient;\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEnD,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,wBAAwB;AACxB,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAClC,yCAAyC;IACzC,MAAM,QAAQ,sCACV,0BACA;IACJ;;IAGA,OAAO;AACT;AAEO,MAAM,UAAU;IACrB,QAAQ,CAAC,OAAS,UAAU,IAAI,CAAC,gBAAgB;IACjD,OAAO,CAAC,OAAS,UAAU,IAAI,CAAC,eAAe;IAC/C,OAAO,IAAM,UAAU,GAAG,CAAC;AAC7B;uCAEe","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/nileXrana/Desktop/DEV/Projects/mini-project-assignment1/frontEnd/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { authAPI } from '@/lib/api';\n\ninterface User {\n  _id: string;\n  name: string;\n  email: string;\n  role: 'User' | 'Admin';\n  createdAt: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  signup: (data: any) => Promise<any>;\n  login: (data: any) => Promise<any>;\n  logout: () => void;\n  checkAuth: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const checkAuth = async () => {\n    try {\n      const token = typeof window !== 'undefined' \n        ? localStorage.getItem('token') \n        : null;\n      if (!token) {\n        setIsLoading(false);\n        return;\n      }\n\n      const response = await authAPI.getMe();\n      setUser(response.data.user);\n      setIsAuthenticated(true);\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        localStorage.removeItem('token');\n      }\n      setUser(null);\n      setIsAuthenticated(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    checkAuth();\n  }, []);\n\n  const signup = async (data: any) => {\n    const { name, email, password, role } = data;\n    const response = await authAPI.signup({\n      name,\n      email,\n      password,\n      role,\n    });\n    \n    if (typeof window !== 'undefined') {\n      localStorage.setItem('token', response.data.token);\n    }\n    setUser(response.data.user);\n    setIsAuthenticated(true);\n    \n    return response.data;\n  };\n\n  const login = async (data: any) => {\n    const response = await authAPI.login(data);\n    \n    if (typeof window !== 'undefined') {\n      localStorage.setItem('token', response.data.token);\n    }\n    setUser(response.data.user);\n    setIsAuthenticated(true);\n    \n    return response.data;\n  };\n\n  const logout = () => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n    }\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isLoading,\n        isAuthenticated,\n        signup,\n        login,\n        logout,\n        checkAuth,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAuBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,QAAQ,sCACV,0BACA;YACJ,wCAAY;gBACV,aAAa;gBACb;YACF;;;YAEA,MAAM;QAGR,EAAE,OAAO,OAAO;YACd;;YAGA,QAAQ;YACR,mBAAmB;QACrB,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,OAAO;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG;QACxC,MAAM,WAAW,MAAM,qHAAO,CAAC,MAAM,CAAC;YACpC;YACA;YACA;YACA;QACF;QAEA;;QAGA,QAAQ,SAAS,IAAI,CAAC,IAAI;QAC1B,mBAAmB;QAEnB,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,QAAQ,OAAO;QACnB,MAAM,WAAW,MAAM,qHAAO,CAAC,KAAK,CAAC;QAErC;;QAGA,QAAQ,SAAS,IAAI,CAAC,IAAI;QAC1B,mBAAmB;QAEnB,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,SAAS;QACb;;QAGA,QAAQ;QACR,mBAAmB;IACrB;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}}]
}